<div class="row">
  <div class="d-flex justify-content-center">
    <div class="col-sm-12 col-md-6">
      <div class="card" style="margin-bottom: 15px">
        <div class="card-body">
          <h5 class="card-title">{{ title }}</h5>
          <!-- FORM -->
          <form
            [formGroup]="threadForm"
            (ngSubmit)="onSubmit()"
            class="row g-3"
          >
            <div class="col-12">
              <label for="inputTitle" class="form-label">Title</label>
              <input
                type="text"
                class="form-control"
                formControlName="title"
                id="inputTitle"
                aria-describedby="titleHelp"
                [ngClass]="{
                  'is-invalid':
                  threadForm.get('title')?.invalid &&
                  threadForm.get('title')?.touched
                }"
              />
              <span
                *ngIf="
                  !threadForm.get('title')?.valid &&
                  threadForm.get('title')?.touched
                "
                class="invalid-feedback"
              >
                <p id="title-invalid">
                  Title must be at least 5 characters long!
                </p>
              </span>
            </div>

            <div class="col-12">
              <label for="inputContent" class="form-label">Content</label>
              <input
                type="text"
                class="form-control"
                formControlName="content"
                id="inputTitle"
                aria-describedby="contentHelp"/>
            </div>

            <div class="col-12">
              <label for="inputImageUrl" class="form-label">Image URL</label>
              <input
                type="text"
                class="form-control"
                formControlName="imageUrl"
                id="inputImageUrl"
                aria-describedby="imageUrlHelp"
                [ngClass]="{
                'is-invalid':
                threadForm.get('imageUrl')?.invalid &&
                threadForm.get('imageUrl')?.touched
              }"
            />
            <span
              *ngIf="
                !threadForm.get('imageUrl')?.valid &&
                threadForm.get('imageUrl')?.touched
              "
              class="invalid-feedback"
            >
              <p id="imageUrl-invalid">
                Please enter a valid Image URL!
              </p>
            </span>
            </div>

            <div class="col-12">
              <label for="inputExternLink" class="form-label">Extern Link</label>
              <input
                type="text"
                class="form-control"
                formControlName="externLink"
                id="inputExternLink"
                aria-describedby="externLinkHelp"
                [ngClass]="{
                'is-invalid':
                threadForm.get('externLink')?.invalid &&
                threadForm.get('externLink')?.touched
              }"
            />
            <span
              *ngIf="
                !threadForm.get('externLink')?.valid &&
                threadForm.get('externLink')?.touched
              "
              class="invalid-feedback"
            >
              <p id="externLink-invalid">
                Please enter a valid link!
              </p>
            </span>
            </div>

            <div class="text-center">
                <button
                  *ngIf="!editMode"
                  style="margin-right: 5px"
                  type="submit"
                  class="btn btn-primary"
                  [disabled]="!threadForm.valid"
                >
                  Create
                </button>

                <!--EDIT BUTTON-->
                <button
                *ngIf="editMode"
                style="margin-right: 5px"
                type="submit"
                class="btn btn-primary"
                [disabled]="!threadForm.valid"
              >
                Edit
              </button>

                <!--EDIT CANCEL BUTTON-->
                <button 
                  *ngIf="editMode"
                  style="margin-left: 5px"
                  type="reset"
                  class="btn btn-danger"
                  [routerLink]="['/communities', communityId, 'threads', threadId]"
                >
                  Cancel
                </button>

                <!--EDIT CANCEL BUTTON-->
                <button 
                *ngIf="!editMode"
                style="margin-left: 5px"
                type="reset"
                class="btn btn-danger"
                [routerLink]="['/communities', communityId]"
              >
                Cancel
              </button>
            </div>
          </form>
          <!-- END FORM -->
        </div>
      </div>
    </div>
  </div>
</div>
